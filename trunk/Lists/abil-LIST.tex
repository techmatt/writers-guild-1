%%%%%
%%
%% This file sets up the Abil datatype and creates Abil macros.  These
%% are for abilities that characters may have.
%%
%%%%%

\DECLARESUBTYPE{Abil}{Element}
\PRESETS{Abil}{
  \F\MYtext	%% text of ability, read by user
  \F\MYeffect	%% effect text of ability, read by recipient(s)
  }


%%%%%
%% \ability{<name>}{<text>}{<effect>}
%%
%% \ability is a wrapper around \INSTANCE, useful for 1-shot abilities,
%% etc.
\newinstance{Abil}{\ability[3]}{
  \s\MYname{#1}\s\MYtext{#2}\s\MYeffect{#3}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\NEW{Abil}{\aTest}{
%  \s\MYname	{Test Ability}
%  \s\MYtext	{You are a test.}
%  \s\MYeffect	{This is a Test.}
%}
%
%\NEW{Abil}{\aSpecial}{
%  \s\MYname	{Special Powers}
%  \s\MYtext	{You have special powers, as detailed in your \gTest{}
%		greensheet.}
%  \s\MYeffect	{I have special powers!}
%  \s\MYgreens	{\gTest{}}
%  \suite
%  }

\NEW{Abil}{\aFiremansCarry}{
  \s\MYname	{Fireman's Carry}
  \s\MYtext	{You can carry a body as if it were two hands bulky.}
  \s\MYeffect	{I can carry this body well.}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


  
%% Basic DarkWater-style Martial Attack abilities


%% Everyone has these 3
\NEW{Abil}{\aAssist}{
  \s\MYname	{Assist}
  \s\MYtext	{You can assist someone else's attack.  You must be
		within ZoC of both the attacker and target.  Within two
		seconds of an attack, direct this at the attacker,
		saying ``\MYname'' and your CR.}
  \s\MYeffect	{I assist your attack.}
  }

\NEW{Abil}{\aKnockOut}{
  \s\MYname	{Knock Out}
  \s\MYtext	{You can knock someone out as an attack.  This requires
		a {\bf blunt} weapon.  Say ``\MYname'' and your CR.}
  \s\MYeffect	{I knock you out.}
  }

\NEW{Abil}{\aWound}{
  \s\MYname	{Wound}
  \s\MYtext	{You can wound someone as an attack.  This requires an
		{\bf edged} weapon, such as a knife.  Say ``\MYname'' and
		your CR.}
  \s\MYeffect	{I wound you.}
  }


%% the \basecombat macro can be prepended to the Char abils list
%% (in char-LIST.tex)
\def\basecombat{\aKnockOut{}\aWound{}\aAssist{}}

%% only some people have these
\NEW{Abil}{\aDisarm}{
  \s\MYname	{Disarm}
  \s\MYtext	{You can disarm one item from someone as an attack.  Say
		``\MYname'' and your CR.  Point at the item you want to
		disarm.  If the attack works, they must drop that item.}
  \s\MYeffect	{I disarm that item.}
  }

\NEW{Abil}{\aRestrain}{
  \s\MYname	{Restrain}
  \s\MYtext	{You can restrain someone as an attack.  Say ``\MYname''
		and your CR.  You may freely drag, attack, or (if you have
		a weapon) killing-blow them.  To do anything else, or if
		your health state changes, incant ``release'' and let them
		go.}
  \s\MYeffect	{I restrain you.  You are restrained until I incant
		``release.''}
  }
\NEW{Abil}{\aThrow}{
  \s\MYname	{Throw}
  \s\MYtext	{You can throw someone as an attack.  Say ``\MYname'' and
		your CR.  Point in the direction you want to throw them.}
  \s\MYeffect	{I throw you.  Go in the direction I point ten full steps
		or until you hit a wall or similar.}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NEW{Abil}{\aWorkConduit}{
  \s\MYname	{Work the Conduit Machine}
  \s\MYtext	{I know how to work this machine to open the conduit.}
  \s\MYeffect	{This ability allows you to work the conduit machine. You may flip over the greensheet \gConduitCover{} and read/interact with the sheet entitled \gConduit{} which is underneath it.
  
This information is transferable. You may freely tell other characters how to work the machine and they will gain this ability as well. This information is also extractable. You may be compelled under enslavement to reveal it.}
}

\NEW{Abil}{\aMadness}{
  \s\MYname	{Psychlim: Maniacal planner}
  \s\MYtext	{I just thought of the most marvelous idea.}
  \s\MYeffect	{Periodically you think of insidiously clever ways to accomplish whatever you are currently planning to do, and audibly laugh, giggle, or cackle for no apparent reason. This is very likely to happen in the middle of conversations with others, especially when they start to bore you (which they always do) and your mind wanders to more intellectual matters.}
}

%%Ele enslavement relevant abilities:
\NEW{Abil}{\aEnslave}{
  \s\MYname	{Enslavement}
  \s\MYtext	{I attempt to enslave you. This action is only interruptible by characters who are not the target of this ability.}
  \s\MYeffect	{This ability allows you attempt to enslave someone. You may attempt to enslave humans and elementals of a lower rank than you in your same faction. (Note: If an elemental of a different faction, or an elemental of lower rank within your faction, attempts to enslave you via this ability, simply say ``resist'')
  If you would like to enslave someone, incant ``I attempt to enslave you 1'', ``I attempt to enslave you 2'', etc. up to a count of 10. This action is interruptible by anyone except your target (your target cannot interrupt the action). Since this is not a CR based attack, your target cannot resist unless they know otherwise. Your target may however attack you with a CR based attack. If you are able to resist the attack, you may do so and continue your incantation as if you had not been attacked. (If you were at ``I attempt to enslave you 4'' when your target attacked you, you may say ``resist'' and then ``I attempt to enslave you 5'' etc.).
  If your target successfully resists, or if you are interrupted by someone else, your attempt immediately fails.
  If you successfully enslave your target, they are compelled to do as you ask for 5 minutes. You can compel your target to perform any action that is not a suicide. You can compel ask your target to discuss a given topic. You may {\bf not} compel your target to reveal specific information. (``Tell me about this machine'' is a valid command, ``Tell me exactly what you plan to do with this machine'' is not.)
  {\bf Regardless of whether your attempt to enslave someone is successful or not, this ability has a 15 minute cool down before it can be used again.}
  }
}

%%Azi can resist enslavement
\NEW{Abil}{\aResistEnslave}{
  \s\MYname	{Resist Enslavement}
  \s\MYtext	{I resist your attempt to enslave me.}
  \s\MYeffect	{This ability allows you resist enslavement by elementals via the \aEnslave{} ability. If you choose to, you can resist enslavement via this ability. You do not have to do so.
  }
}

\NEW{Abil}{\aUnsealConduit}{
  \s\MYname	{Remove seal}
  \s\MYtext	{I know how to remove this seal.}
  \s\MYeffect	{As a low ranking elemental, you have spent much of your life running around, cleaning things up at the bidding of higher ranking elementals. You are therefore well versed in how to clean almost anything off of almost any surface. In particular, you are familiar with a method for cleaning off compounds used to seal things. If you would like to clean a seal off of a possible conduit location, you will need some help. You will need to acquire a large bowl (item number: LARGE BOWL), and fill it with water from the pond (This will take you 2 minutes), and a bottle of lye (It is a caustic chemical that must be kept away from {\bf all} moisture). \emph{These items will come to a total of 3 hands bulky, so you will either need help or you will need to  walk heel to toe to your location.} Then spend 3 minutes cleaning the seal off. Roleplay accordingly. (Once you have spent 3 minutes cleaning, remove the sign indicating that the conduit location is sealed. Hand it to a GM at your earliest convenience.)
  }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


